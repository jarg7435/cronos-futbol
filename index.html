<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Cronos FÃºtbol - Coach Assistant</title>
    <link rel="stylesheet" href="style.css?v=1.8">
    <link rel="manifest" href="manifest.json?v=1.8">
    <meta name="theme-color" content="#0a0e14">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Outfit:wght@600&display=swap"
        rel="stylesheet">
</head>

<body class="locked">
    <!-- Orientation Warning -->
    <div id="orientation-warning">
        <h2 style="color: var(--primary); margin-bottom: 1rem;">Gire su dispositivo</h2>
        <p style="color: var(--text-muted);">Esta aplicaciÃ³n estÃ¡ optimizada para su uso en modo horizontal.</p>
        <div style="margin-top: 2rem; font-size: 3rem;">ðŸ“±ðŸ”„</div>
    </div>

    <!-- Access Screen -->
    <div id="access-screen">
        <div class="access-card">
            <h1 style="font-family: 'Outfit', sans-serif; color: var(--primary); margin-bottom: 0.5rem;">CRONOS FÃšTBOL
            </h1>
            <p style="color: var(--text-muted); font-size: 0.9rem; margin-bottom: 2rem;">Introduzca el cÃ³digo de acceso
            </p>
            <div class="form-group" style="margin-bottom: 1.5rem;">
                <input type="password" id="access-input" placeholder="â€¢â€¢â€¢â€¢" maxlength="4"
                    style="text-align: center; font-size: 2rem; letter-spacing: 0.5rem;">
            </div>
            <button class="btn primary" onclick="validateAccess()" style="width: 100%;">ENTRAR</button>
            <p id="access-error" style="color: var(--danger); font-size: 0.8rem; margin-top: 1rem; height: 1rem;"></p>

            <!-- Force Update Link -->
            <div style="margin-top: 2rem; border-top: 1px solid var(--glass-border); padding-top: 1rem;">
                <p style="color: var(--text-muted); font-size: 0.7rem; margin-bottom: 0.5rem;">Â¿Atascado en una versiÃ³n
                    vieja?</p>
                <button class="btn" onclick="forceUpdate()"
                    style="background: var(--glass); color: var(--text-muted); font-size: 0.7rem; padding: 0.4rem 0.8rem;">FORZAR
                    ACTUALIZACIÃ“N V1.8</button>
            </div>
        </div>
    </div>

    <!-- Main Content (Hidden initially) -->
    <header id="main-header" style="display: none;">
        <div class="logo">
            <h1 style="font-family: 'Outfit', sans-serif; color: var(--primary);">CRONOS FÃšTBOL</h1>
            <span style="font-size: 0.6rem; color: var(--text-muted); display: block; margin-top: -5px;">v1.8 - iPad Fix
                & Pitch Optimized</span>
        </div>
        <div class="master-clock-container">
            <div id="master-timer" style="font-size: 1.5rem; font-weight: bold;">00:00</div>
            <div style="font-size: 0.7rem; color: var(--text-muted); text-align: center;">TIEMPO GLOBAL</div>
        </div>
        <div class="score-board">
            <span id="team-a-name">LOCAL</span>
            <span id="score-home" onclick="updateScore('home')" style="cursor: pointer;"
                title="Editar goles local">0</span>
            <span> - </span>
            <span id="score-away" onclick="updateScore('away')" style="cursor: pointer;"
                title="Editar goles visitante">0</span>
            <span id="team-b-name">VISITANTE</span>
        </div>
        <div class="header-actions">
            <!-- Buttons specific for Home/Away saving could go here but space is tight. 
                 We'll keep generic save that saves BOTH or asks which one? 
                 Let's stick to 'Gestionar Equipos' in logic. -->
            <button id="btn-play-pause" class="btn primary">EMPEZAR</button>
            <button id="btn-reset" class="btn danger">REINICIAR</button>
            <button id="btn-save-team" class="btn">GUARDAR</button>
            <button id="btn-export" class="btn">DESCARGAR</button>
        </div>
    </header>

    <main class="main-container" id="main-container" style="display: none;">
        <aside class="sidebar" ondrop="dropToBench(event)" ondragover="allowDrop(event)">
            <div class="config-section">
                <h3>LOCAL</h3>
                <!-- Mode selection is now only in Setup Modal -->
            </div>

            <div class="bench-section">
                <h3>BANQUILLO</h3>
                <div id="bench-list" class="bench-container" ondrop="dropToBench(event)" ondragover="allowDrop(event)">
                    <!-- Suplentes aquÃ­ -->
                </div>
            </div>
        </aside>

        <main class="field-area" id="field-dropzone" ondrop="dropToField(event)" ondragover="allowDrop(event)">
            <div class="pitch" id="football-pitch">
                <div class="center-circle"></div>
                <div class="penalty-area top"></div>
                <div class="penalty-area bottom"></div>
                <div class="goal-area top"></div>
                <div class="goal-area bottom"></div>
                <!-- Titulares aquÃ­ -->
            </div>
        </main>

        <aside class="sidebar-right" ondrop="dropToAwayBench(event)" ondragover="allowDrop(event)">
            <div class="config-section">
                <h3>VISITANTE</h3>
                <!-- No match mode config here, it's global -->
            </div>

            <div class="bench-section">
                <h3>BANQUILLO</h3>
                <div id="bench-list-away" class="bench-container" ondrop="dropToAwayBench(event)"
                    ondragover="allowDrop(event)">
                    <!-- Suplentes Visitante aquÃ­ -->
                </div>
            </div>
        </aside>

        <!-- Mobile Drawer Toggles -->
        <button id="toggle-bench-home" class="mobile-toggle home" onclick="toggleBench('home')">LOCAL</button>
        <button id="toggle-bench-away" class="mobile-toggle away" onclick="toggleBench('away')">VISIT.</button>
    </main>

    <!-- Configuration Modal -->
    <div id="setup-modal" class="modal">
        <!-- Contenido dinÃ¡mico via JS -->
    </div>

    <script src="app.js?v=1.8"></script>
</body>

</html>